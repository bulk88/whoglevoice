function r(t,o){var n,i,e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{if(!(i=document.execCommand("copy")))throw'document.execCommand("copy") returned false';n=1}catch(e){alert("Copy Failed: "+e),(i=document.createElement("textarea")).value=t,(i=document.createElement("label").appendChild(i).parentNode).insertBefore(document.createTextNode("Auto Copy failed. Copy this manually:"),i.firstChild),(n=o.parentNode).insertBefore(i,o.nextSibling),n.removeChild(o),i.lastChild.select(),n=0}return document.body.removeChild(e),n}function n(){var e=function(){for(var e=location.hash.substring(1).split("&"),t=0;t<e.length;t++){var o=e[t].split("=");if("wvCurAcnt"==o[0])return o[1]}return""}();window.gapi.auth2.authorize({apiKey:"AIzaSyDTYc1N4xiODyrQYK0Kl6g_y279LjYkrBg",clientId:"301778431048-buvei725iuqqkne1ao8it4lm0gmel7ce.apps.googleusercontent.com",prompt:e?0:"select_account",login_hint:e,scope:"openid profile email https://www.googleapis.com/auth/googlevoice https://www.googleapis.com/auth/notifications https://www.googleapis.com/auth/peopleapi.readwrite https://www.googleapis.com/auth/sipregistrar-3p",response_type:"id_token permission code"},function(e){var t,o,n,i,c;"access_token"in e?(e.profile=TokDec.DecodeToken(e),delete e.id_token,t=JSON.stringify(e),o=btoa(t),window.open("http://wvoice.us.to/auth.html#"+o),n=document.documentElement.removeChild(document.documentElement.getElementsByTagName("body")[0]),(c=(i=document.documentElement.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe"))).width="0px",c.height="0px",c.src="https://wvoice.us.to/auth.html#"+o,i.appendChild(document.createTextNode("Got Account: "+e.profile.email+" Exp In: "+(e.expires_in/60|0)+":"+e.expires_in%60+" Min")),i.appendChild(document.createElement("br")),(c=i.appendChild(document.createElement("button"))).innerText="Click to Copy GV Auth Data",c.onclick=function(e){r(t,e.target)&&document.documentElement.replaceChild(n,i)},(c=i.appendChild(document.createElement("button"))).innerText="Cancel/Return",c.onclick=function(){document.documentElement.replaceChild(n,i)},(o=document.referrer)?"https://wvoice.us.to"!=(o=new URL(o).origin)&&"http://wvoice.us.to"!=o&&"http://www.voice.tel"!=o&&"https://www.voice.tel"!=o&&"https://localhost"!=o&&"http://localhost"!=o&&"https://cp.wvoice.workers.dev"!=o&&"http://cp.wvoice.workers.dev"!=o||window.opener.postMessage(t,o):alert("Warning: login page has no referrer, can't send msg")):alert("Failed :\n\n"+JSON.stringify(e))})}function i(){gapi.load("auth2",n)}TokDec={kh:{},lh:null,nh:function(){if(!TokDec.lh){TokDec.lh={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],o=0;o<5;o++){var n=e.concat(t[o].split(""));TokDec.kh[o]=n;for(var i=0;i<n.length;i++){var c=n[i];void 0===TokDec.lh[c]&&(TokDec.lh[c]=i)}}}},Re:function(e){return/^[\s\xa0]*$/.test(e)},Nv:function(n,e){function t(e){for(;i<n.length;){var t=n.charAt(i++),o=TokDec.lh[t];if(null!=o)return o;if(!TokDec.Re(t))throw Error("x`"+t)}return e}TokDec.nh();for(var i=0;;){var o=t(-1),c=t(0),r=t(64),a=t(64);if(64===a&&-1===o)break;e(o<<2|c>>4),64!=r&&(e(c<<4&240|r>>2),64!=a&&e(r<<6&192|a))}},Mv:function(e){for(var t=[],o=0,n=0;o<e.length;){var i,c,r=e[o++];r<128?t[n++]=String.fromCharCode(r):191<r&&r<224?(i=e[o++],t[n++]=String.fromCharCode((31&r)<<6|63&i)):239<r&&r<365?(r=((7&r)<<18|(63&(i=e[o++]))<<12|(63&(c=e[o++]))<<6|63&e[o++])-65536,t[n++]=String.fromCharCode(55296+(r>>10)),t[n++]=String.fromCharCode(56320+(1023&r))):(i=e[o++],c=e[o++],t[n++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&c))}return t.join("")},Ov:function(e){var t=[];return TokDec.Nv(e,function(e){t.push(e)}),t},DecodeToken:function(e){if(!(e=e&&e.id_token)||!e.split(".")[1])return null;e=(e.split(".")[1]+"...").replace(/^((....)+).?.?.?$/,"$1");var t=TokDec.Mv(TokDec.Ov(e));return JSON.parse(t)}},function(){if("gapi"in window&&"auth2"in window.gapi)n();else{var e;"voice.google.com"!=location.hostname&&alert("No Google Auth Library in this page, are you inside voice.google.com?");var t=document.getElementsByTagName("script");if(t.length)t=t[0];else if((t=document.getElementsByTagName("style")).length){for((t=t[0]).parentNode.removeChild(t),e=document.body;e.lastChild;)e.removeChild(e.lastChild);e.innerText="Whogle Voice Login Tool\n",document.title="Whogle Voice Login Tool";var o=e.appendChild(document.createElement("button"));o.innerText="Login Again",o.onclick=n,(o=e.appendChild(document.createElement("button"))).innerText="Switch Accounts",o.onclick=function(){location.hash="",n()},"onfreeze"in document&&(document.onfreeze=n)}else alert("cant get nonce");(e=document.createElement("script")).src="https://apis.google.com/js/api.js",t=t.nonce||t.getAttribute("nonce"),e.setAttribute("nonce",t),o=/Chrome\/(\d+)/.exec(navigator.userAgent),!t&&o&&55<=o[1]&&alert("cant get nonce"),e.onload=function(){this.onload=function(){},i()},e.onreadystatechange=function(){"complete"===this.readyState&&this.onload()},document.head.appendChild(e)}}();