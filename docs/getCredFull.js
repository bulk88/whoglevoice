function wvCopyToClipboard(t,o){var e;var n;var a=document.createElement("input");a.value=t;document.body.appendChild(a);a.select();a.setSelectionRange(0,99999);try{n=document.execCommand("copy");if(!n){throw'document.execCommand("copy") returned false'}e=1}catch(e){alert("Copy Failed: "+e);n=document.createElement("textarea");n.value=t;n=document.createElement("label").appendChild(n).parentNode;n.insertBefore(document.createTextNode("Auto Copy failed. Copy this manually:"),n.firstChild);o.parentNode.insertBefore(n,o.nextSibling);o.parentNode.removeChild(o);n.lastChild.select()}document.body.removeChild(a);return e}TokDec={};TokDec.kh={};TokDec.lh=null;TokDec.nh=function(){if(!TokDec.lh){TokDec.lh={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],o=0;5>o;o++){var n=e.concat(t[o].split(""));TokDec.kh[o]=n;for(var a=0;a<n.length;a++){var i=n[a];void 0===TokDec.lh[i]&&(TokDec.lh[i]=a)}}}};TokDec.Re=function(e){return/^[\s\xa0]*$/.test(e)};TokDec.Nv=function(n,e){function c(e){for(;a<n.length;){var t=n.charAt(a++),o=TokDec.lh[t];if(null!=o)return o;if(!TokDec.Re(t))throw Error("x`"+t)}return e}TokDec.nh();for(var a=0;;){var t=c(-1),o=c(0),i=c(64),r=c(64);if(64===r&&-1===t)break;e(t<<2|o>>4);64!=i&&(e(o<<4&240|i>>2),64!=r&&e(i<<6&192|r))}};TokDec.Mv=function(e){for(var t=[],o=0,n=0;o<e.length;){var a=e[o++];if(128>a)t[n++]=String.fromCharCode(a);else if(191<a&&224>a){var i=e[o++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(239<a&&365>a){i=e[o++];var c=e[o++],r=e[o++];a=((a&7)<<18|(i&63)<<12|(c&63)<<6|r&63)-65536;t[n++]=String.fromCharCode(55296+(a>>10));t[n++]=String.fromCharCode(56320+(a&1023))}else i=e[o++],c=e[o++],t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|c&63)}return t.join("")};TokDec.Ov=function(e){var t=[];TokDec.Nv(e,function(e){t.push(e)});return t};TokDec.DecodeToken=function(e){e=e&&e.id_token;if(!e||!e.split(".")[1])return null;e=(e.split(".")[1]+"...").replace(/^((....)+).?.?.?$/,"$1");var t=TokDec.Mv(TokDec.Ov(e));return JSON.parse(t)};function wvHaveGAPIAuth2Lib(){window.gapi.auth2.authorize({apiKey:"AIzaSyDTYc1N4xiODyrQYK0Kl6g_y279LjYkrBg",clientId:"301778431048-buvei725iuqqkne1ao8it4lm0gmel7ce.apps.googleusercontent.com",prompt:"select_account",scope:"openid profile email https://www.googleapis.com/auth/googlevoice https://www.googleapis.com/auth/notifications https://www.googleapis.com/auth/peopleapi.readwrite https://www.googleapis.com/auth/sipregistrar-3p",response_type:"id_token permission code"},function(e){if("access_token"in e){e.profile=TokDec.DecodeToken(e);delete e.id_token;var t=JSON.stringify(e);var o=document.documentElement.removeChild(document.documentElement.getElementsByTagName("body")[0]);var n=document.documentElement.appendChild(document.createElement("body"));n.appendChild(document.createTextNode("Got Account: "+e.profile.email));n.appendChild(document.createElement("br"));var a=n.appendChild(document.createElement("button"));a.innerText="Click to Copy GV Auth Data";a.addEventListener("click",function(e){if(wvCopyToClipboard(t,e.target)){document.documentElement.replaceChild(o,n)}});var i=n.appendChild(document.createElement("button"));i.innerText="Cancel/Return";i.addEventListener("click",function(){document.documentElement.replaceChild(o,n)})}else{alert("Failed :\n\n"+JSON.stringify(e))}})}function wvHandleClientLoad(){gapi.load("auth2",wvHaveGAPIAuth2Lib)}if(!("gapi"in window&&"auth2"in window.gapi)){if(location.hostname!="voice.google.com"){alert("No Google Auth Library in this page, are you inside voice.google.com?")}var e=document.createElement("script");e.setAttribute("src","https://apis.google.com/js/api.js");e.setAttribute("nonce",document.getElementsByTagName("script")[0].nonce||document.getElementsByTagName("script")[0].getAttribute("nonce")||alert("cant get nonce")||function(){throw"cant get nonce"}());e.addEventListener("load",function(){this.onload=function(){};wvHandleClientLoad()});e.addEventListener("readystatechange",function(){if(this.readyState==="complete")this.onload()});var t=document.getElementsByTagName("head")[0];t.appendChild(e)}else{wvHaveGAPIAuth2Lib()}