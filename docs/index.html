<script src=client.js></script><meta charset=utf-8 content=0 name=mobileoptimized>Welcome To Whogle Voice<div id=sign-in-bar></div><button onclick=getThreadListUI(event)>⠀▽⠀</button><div id=threadList></div><script>function getThreadList(t){getAuthToken(function(e){getThreadList_t(!0,e,t)})}function getThreadList_t(e,t,n){var a=new XMLHttpRequest;a.open("POST","https://content.googleapis.com/voice/v1/voiceclient/api2thread/list?alt=json",1),a.setRequestHeader("Content-Type","application/json+protobuf"),a.setRequestHeader("Authorization","Bearer "+t),a.withCredentials=1,a.onreadystatechange=function(){4==a.readyState&&(e&&401==a.status&&resp401Unauth(a.response)&&(wvWipeAuthToken(),getAuthToken(function(e){getThreadList_t(!1,e,n)})),200!=a.status?(401!=a.status&&alert("status: "+a.status+"\nresp:"+a.response),n&&n(a.response||1)):n&&n(!1,JSON.parse(a.response)))},a.send("[2, 100, 1]")}function getThreadListUI(d){(d=d.target).innerText=" ▽⌛ ",getThreadList(function(e,t){if(e)d.innerText=" ▽✘ ";else{var n,a=document.createDocumentFragment();for(t=t.thread,n=0;n<t.length;n++){var r=document.createElement("div"),s=t[n].item[0];a.appendChild(r),s.is_artificial_error_message?r.style.backgroundColor="red":r.style.outline="1px solid black";var i=r.appendChild(document.createElement("div"));i.align="left",(i=i.appendChild(document.createElement("a"))).href="thread.html#"+s.contact.phone_number.substring(2),i.textContent=s.contact.name,(i=r.appendChild(document.createElement("div"))).align="SMS_IN"==s.type?"left":"right",i.textContent=s.mms_message?"[IMG]"+s.mms_message.text:s.message_text}for(var o=document.getElementById("threadList");o.lastChild;)o.removeChild(o.lastChild);o.appendChild(a),d.innerText=" ▽✔ "}})}getThreadListUI({target:{innerText:0}}),drawLoginBar()</script>