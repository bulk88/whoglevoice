<script src=client.js></script><meta charset=utf-8 content=0 name=mobileoptimized>Welcome To Whogle Voice<div id=sign-in-bar></div><div id=threadList></div><script>function getThreadList(t){getAuthToken(function(e){getThreadList_t(!0,e,t)})}function getThreadList_t(e,t,n){var a=new XMLHttpRequest;a.open("POST","https://content.googleapis.com/voice/v1/voiceclient/api2thread/list?alt=json",1),a.setRequestHeader("Content-Type","application/json+protobuf"),a.setRequestHeader("Authorization","Bearer "+t),a.withCredentials=1,a.onreadystatechange=function(){4==a.readyState&&(e&&401==a.status&&resp401Unauth(a.response)&&(wvWipeAuthToken(),getAuthToken(function(e){getThreadList_t(!1,e,n)})),200!=a.status?(401!=a.status&&alert("status: "+a.status+"\nresp:"+a.response),n&&n(a.response||1)):n&&n(!1,JSON.parse(a.response)))},a.send("[2, 100, 1]")}getThreadList(function(e,t){var n=document.createDocumentFragment();if(!e){for(var a=0;a<t.thread.length;a++){var s=document.createElement("div"),r=t.thread[a].item[0];n.appendChild(s),r.is_artificial_error_message?s.style.backgroundColor="red":s.style.outline="1px solid black";var o=s.appendChild(document.createElement("div"));o.align="left",(o=o.appendChild(document.createElement("a"))).href="thread.html#"+r.contact.phone_number.substring(2),o.textContent=r.contact.name,(o=s.appendChild(document.createElement("div"))).align="SMS_IN"==r.type?"left":"right",o.textContent=r.mms_message?"[IMG]"+r.mms_message.text:r.message_text}for(var i=document.getElementById("threadList");i.lastChild;)i.removeChild(i.lastChild);i.appendChild(n)}}),drawLoginBar()</script>