<script src=client.js></script><meta charset=utf-8 content=0 name=mobileoptimized>Welcome To Whogle Voice<div id=sign-in-bar></div><button onclick=getThreadListUI(event) style=width:3.5em;text-align:left;> ▽</button><input placeholder="New number here"type=tel><button onclick='window.location="thread.html#"+event.target.previousSibling.value'>⠀Go #⠀</button><div id=threadList></div><script>function getThreadList(t){getAuthToken(function(e){getThreadList_t(!0,e,t)})}function getThreadList_t(e,t,n){var a=new XMLHttpRequest;a.open("POST","https://content.googleapis.com/voice/v1/voiceclient/api2thread/list?alt=json",1),a.setRequestHeader("Content-Type","application/json+protobuf"),a.setRequestHeader("Authorization","Bearer "+t),a.withCredentials=1,a.onreadystatechange=function(){4==a.readyState&&(e&&401==a.status&&resp401Unauth(a.response)&&(wvWipeAuthToken(),getAuthToken(function(e){getThreadList_t(!1,e,n)})),200!=a.status?(401!=a.status&&alert("status: "+a.status+"\nresp:"+a.response),n&&n(a.response||1)):n&&n(!1,JSON.parse(a.response)))},a.send("[2, 100, 1]")}function getThreadListUI(d){(d=d.target).innerText=" ▽⌛",getThreadList(function(e,t){if(e)d.innerText=" ▽✘";else{var n,a=document.createDocumentFragment();for(t=t.thread,n=0;n<t.length;n++){var r=document.createElement("div"),i=t[n].item[0];a.appendChild(r),i.is_artificial_error_message?r.style.backgroundColor="red":r.style.outline="1px solid black";var o=r.appendChild(document.createElement("div"));o.align="left",(o=o.appendChild(document.createElement("a"))).href="thread.html#"+i.contact.phone_number.substring(2),o.textContent=i.contact.name,(o=r.appendChild(document.createElement("div"))).align="SMS_IN"==i.type?"left":"right",o.textContent=i.mms_message?"[IMG]"+i.mms_message.text:i.message_text}for(var s=document.getElementById("threadList");s.lastChild;)s.removeChild(s.lastChild);s.appendChild(a),d.innerText=" ▽✔"}})}var e;navigator.clipboard&&((e=document.body.insertBefore(document.createElement("button"),document.getElementById("threadList"))).innerText="⠀Paste⠀",e.onclick=function(e){navigator.clipboard.readText().then(function(e){window.location="thread.html#"+e})}),getThreadListUI({target:{innerText:0}}),drawLoginBar()</script>