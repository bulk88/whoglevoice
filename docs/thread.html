<script src=client.js></script><meta charset=utf-8 content=0 name=mobileoptimized>Welcome To Whogle Voice<button onclick=history.back()>◀Back</button><div id=sign-in-bar></div><div id=buddy-bar></div><div id=thread></div><script>var altImgLoaderWarn;function getConvoUI(p,g,u){var e=location.hash.substring(1);(p=p.target).innerText=" ▽⌛",getThread(e,g,function(t,e){var n=document.createDocumentFragment();if(t){try{404==(e=JSON.parse(t)).error.code&&'voice_error: {"error_code":"NOT_FOUND"}'==e.error.message&&(n.textContent="Thread not found. Send the first Message.")}catch(e){alert("Error getting thread:\n\n"+t)}p.innerText=" ▽✘",u&&u(t)}else{for(var o,a,l,r,i=/(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+/gi,d=lazySignedInUserIndex(),c=0;c<e.thread.item.length;c++){var s=document.createElement("p"),m=e.thread.item[c];if(m.mmsMessage&&m.mmsMessage.attachment)for(o=0;o<m.mmsMessage.attachment.length;o++)"video"==(a=m.mmsMessage.attachment[o]).mediaType?((r=s.appendChild(document.createElement("video"))).src="https://voice.google.com/u/"+d+"/a/vi/"+a.id+"?m=content",r.controls=!0,(l=s.appendChild(document.createElement("a"))).href="https://voice.google.com/u/"+d+"/a/vi/"+a.id+"?m=content",l.textContent="Download Video"):"vcard"==a.mediaType?((r=s.appendChild(document.createElement("img"))).isvcard=1,r.src="https://voice.google.com/u/"+d+"/a/vc/"+a.id,(l=s.appendChild(document.createElement("a"))).href="https://voice.google.com/u/"+d+"/a/vc/"+a.id,l.textContent="Download Vcard"):((r=document.createElement("img")).src="https://voice.google.com/u/"+d+"/a/i/"+a.id+"?s=1",(l=document.createElement("a")).href="https://voice.google.com/u/"+d+"/a/i/"+a.id+"?s=1",l.appendChild(r),s.appendChild(l)),r.style.maxWidth="100%",r.onerror=threadImgAltLoader,l.target="_blank";n.insertBefore(s,n.firstChild),m.isArtificialErrorMessage?s.style.backgroundColor="red":s.style.outline="1px solid black",s.align="smsIn"==m.type?"left":"right",r=new Date(Number(m.startTime)),(r=(l=document.createTextNode(r.toDateString().substring(0,11)+r.toLocaleTimeString()+"- "+(m.mmsMessage?m.mmsMessage.text:m.messageText)+" ")).textContent).match(i)?s.innerHTML=r.replace(i,'<a href="$&" target="_blank" rel="noreferrer">$&</a>'):s.appendChild(l),0==c&&(s.mid=m.id),p.innerText=" ▽✔"}document.getElementById("buddy-bar").firstChild.textContent=e.thread.contact[0].name+"-",(r=e.thread.paginationToken)&&((s=n.insertBefore(document.createElement("button"),n.firstChild)).innerText=" Load More ",s.wvpgtok=r,s.onclick=function(e){getConvoUI(e,e.target.wvpgtok)})}if(n.childNodes.length){var h=document.getElementById("thread");if(g)h.replaceChild(n,h.firstChild);else{for(;h.lastChild;)h.removeChild(h.lastChild);h.appendChild(n)}}u&&u(!1,e)})}var pollLastTimer,pollDelay=[2e3,2e3,2e3,2500,2500,2500,2500,2500],pollDelayIdx=0,pollMaxLoop=0;function nextPollLoop(e){pollMaxLoop++<18&&(e=e||(pollDelayIdx<pollDelay.length?pollDelay[pollDelayIdx++]:6e3),pollLastTimer=setTimeout(function(){chkNewMsg(location.hash.substring(1),function(e,t){var n=document.getElementById("thread");n&&n.lastChild?t.substr(24,40)!=n.lastChild.mid?getConvoUI({target:{innerText:0}},0,nextFastPollLoop):nextPollLoop():nextFastPollLoop()})},e))}function nextFastPollLoop(){clearTimeout(pollLastTimer),pollMaxLoop=pollDelayIdx=0,nextPollLoop()}function hashChangeHandler(){for(var e,t,n=location.hash,o=document.getElementById("buddy-bar");o.lastChild;)o.removeChild(o.lastChild);""!=n&&"#"!=n?(n=n.substring(1),getConvoUI({target:{innerText:0}}),(e=document.createDocumentFragment()).appendChild(document.createElement("span")),(t=document.createElement("a")).innerText=n,t.href="https://www.telcodata.us/search-area-code-exchange-detail?npa="+n.substr(0,3)+"&exchange="+n.substr(3,3),e.appendChild(t),(t=e.appendChild(document.createElement("button"))).wvnum=n,t.innerText=" Call ",t.onclick=function(t){(t=t.target).innerText=" Calling ",mkCall(t.wvnum,function(e){t.innerText=e?" Called ✘ ":" Called ✔ "})},(t=e.appendChild(document.createElement("button"))).innerText=" Bottom⬇ ",t.onclick=function(e){(e=document.scrollingElement||document.body).scrollTop=e.scrollHeight},o.appendChild(e)):(o.appendChild(document.createElement("span")),o.appendChild(document.createElement("span")).textContent="no num specified in url anchor")}(onhashchange=hashChangeHandler)(),drawLoginBar(),nextPollLoop(5e3)</script><textarea id=msg placeholder="Type outgoing msg here"style=width:100%></textarea><br><button onclick=history.back()>◀Back</button> <button onclick=sendUI(event)> ✉    </button> <button onclick=window.scrollTo(0,0)>⠀⬆Top⠀</button> <button onclick='document.getElementById("msg").value=""'> ✖ </button> <button onclick=getConvoUI(event) id=rfsh style=width:3.5em;text-align:left;> ▽ </button><br><label for=ipk>Choose attachment:</label> <button onclick=clearPrvImg()>Clear Img</button> <input accept=image/* id=ipk onchange=loadFile(event) type=file><br><img id=prv><script>var loadFile=function(e){var t=new FileReader;t.onload=function(){document.getElementById("prv").src=t.result},t.readAsDataURL(e.target.files[0])};function clearPrvImg(){document.getElementById("ipk").value=null;var e=document.getElementById("prv"),t=e.nextSibling,n=e.parentNode;n.removeChild(e).removeAttribute("src"),n.insertBefore(e.cloneNode(),t)}function sendUI(o){clearTimeout(pollLastTimer),o=o.target;var r,a=location.hash.substring(1);"no num specified in url anchor"==a&&(a="");var l=(l=document.getElementById("prv").src)&&(-1==(r=l.indexOf(","))?(alert("Image selected could not be turned into a DATA URL"),""):l.substr(r+1));o.innerText=" ✉⌛ ",r=document.getElementById("msg"),sendsms(a,r.value,l,function(e,t){var n;e?(o.innerText=" ✉✘ ",nextPollLoop()):(n=t[2],o.innerText=" ✉✔ ",getConvoUI({target:{innerText:0}},0,function(e,t){e||(t.thread.item[0].id!=n?(alert("Warning: sent outgoing message , server confirmed, but not in chat log"),sendsms(a,r.value,l,function(e,t){e||(r.value="",clearPrvImg(),nextFastPollLoop())})):(r.value="",clearPrvImg(),nextFastPollLoop()))}))})}function threadImgAltLoader(n){(n=n.target).onerror=void 0;var e,o=n.isvcard||"VIDEO"==n.nodeName,t=(e=o?n.src:(n=n.parentNode).href).lastIndexOf("?");-1==t&&(t=void 0),e=e.substring(e.lastIndexOf("/")+1,t),attachIDtoB64(e,o?4:1,o,function(e,t){e||(o?(t="data:"+(n.isvcard?"text/x-vcard":"video/mp4")+";base64,"+t,"VIDEO"==n.nodeName&&(n.src=t),n.nextElementSibling.href=t):(n.href="data:image/jpeg;base64,"+t,n.firstChild.src=n.href,"addEventHandler"in n.firstChild||setTimeout(function(){var e=document.scrollingElement||document.body;e.scrollTop=e.scrollHeight},100)))}),altImgLoaderWarn||((e=document.createElement("div")).style.color="red",e.textContent="Using the alternate slow image loader.",document.body.insertBefore(e,document.getElementById("msg")),altImgLoaderWarn=1)}!function(){function e(e){e.style.height="auto",e.style.overflow="hidden",e.style.height=e.scrollHeight+e.offset+"px",e.style.overflow=""}var t=document.getElementById("msg");t.offset=window.opera?t.offsetHeight+parseInt(window.getComputedStyle(t,null).getPropertyValue("border-top-width")):t.offsetHeight-t.clientHeight,e(t),t.oninput=function(){e(t)},t.onmouseup=function(){e(t)}}()</script>